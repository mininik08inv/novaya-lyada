{% extends 'base.html' %}

{% block content %}
<h1>{{title}}</h1>
<form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- Вывод общих ошибок -->
    {% if form.errors %}
        <div class="alert alert-danger">
            {% for field, errors in form.errors.items %}
                {% for error in errors %}
                    <p>{{ field|title }}: {{ error }}</p>
                {% endfor %}
            {% endfor %}
        </div>
    {% endif %}

    <!-- Вывод полей формы -->
    {% for f in form %}
        <p>
            <label class="form-label" for="{{ f.id_for_label }}">{{ f.label }}</label>
            {{ f }}
            {% if f.help_text %}
                <small class="form-text text-muted">{{ f.help_text }}</small>
            {% endif %}
        </p>
        <div class="form-error">{{ f.errors }}</div>
    {% endfor %}

    <button type="submit" class="btn btn-primary">Сохранить</button>
</form>
{% endblock %}